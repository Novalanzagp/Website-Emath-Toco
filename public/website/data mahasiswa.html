<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
    <title>Data Mahasiswa</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

      <!-- Favicons -->
  <link href="assets/img/et.png" rel="icon">
  <link href="assets/img/emath-toco.png" rel="emath-toco">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <script>
    function jawaban(){
      const url = 'https://console.firebase.google.com/project/emathtoco-bec56/storage/emathtoco-bec56.appspot.com/files/~2FKoding%20Kompresi '
      window.open(url);
    }
    
    function kunci(){
      const url = 'https://console.firebase.google.com/project/emathtoco-bec56/storage/emathtoco-bec56.appspot.com/files/~2Fkunci '
      window.open(url);
    }
    
    function nilai(){
      const url = 'https://colab.research.google.com/drive/1S52x96N7MHWPpT8ImZxvcdtVdb2AyZ7L?usp=sharing '
      window.open(url);
    }


  </script>
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center">
        <!-- <img src="website\assets\img\emath-toco.png" alt="">  -->
        <!--logo web-->
        <span class="d-none d-lg-block">EMATH TOCO</span>
      </a>
    </div>
    <!-- End Logo -->

    <!-- Sign Out -->
    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <li class="nav-item">
          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="../index.html">
            <span class="d-flex align-items-center">Sign Out</span>
          </a>
        </li>
      </ul>
    </nav>
    <!-- End Sign Out -->

  </header><!-- End Header -->

  <main id="main" class="main">
    <div class="col-lg-8">
      <div class="row">

        <section class="section">
          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Student Answer Datas</h5>

                  <!-- Tabel untuk menampilkan data -->
                  <table id="dataContainer" class="table">
                    <thead>
                      <tr>
                        <th>Kelas</th>
                        <th>Matkul</th>
                        <th>Nama</th>
                        <th>Nilai</th>
                        <th>NIM</th>
                        <th>Soal</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Data akan ditambahkan di sini -->
                    </tbody>
                  </table>
                  <!-- Akhir tabel -->

                  <div id="dataContainer">
                    <!-- Data will be displayed here -->
                  </div>
                  
                  <!------------------------- Firebase Config ------------------------------------>
                  <script type="module">
                    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js';
                    import { getFirestore, getDocs, collectionGroup } from 'https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js';

                    const firebaseConfig = {
                      // Put your firebase config values here
                      apiKey: "AIzaSyAYWjSzIMVzXhnyKGymgdxHmoIagZZp01M",
                      authDomain: "emathtoco-bec56.firebaseapp.com",
                      databaseURL: "https://emathtoco-bec56-default-rtdb.firebaseio.com",
                      projectId: "emathtoco-bec56",
                      storageBucket: "emathtoco-bec56.appspot.com",
                      messagingSenderId: "784908974272",
                      appId: "1:784908974272:web:9cef11f196a698225d5525",
                      measurementId: "G-NTMR4BZ9SZ"
                    };

                    const app = initializeApp(firebaseConfig);
                    const db = getFirestore(app);

                    const dataContainer = document.getElementById('dataContainer');

                    async function displayData() {
                      try {
                        const querySnapshot = await getDocs(collectionGroup(db, 'inventory'));
                        const tbody = document.querySelector("#dataContainer tbody");

                        querySnapshot.forEach(doc => {
                          const data = doc.data();
                          console.log(data);

                          // Buat sebuah baris baru untuk data
                          const row = document.createElement('tr');
                          row.innerHTML = `
                            <td>${data.kelas}</td>
                            <td>${data.matkul}</td>
                            <td>${data.nama}</td>
                            <td>${data.nilai}</td>
                            <td>${data.nim}</td>
                            <td>${data.soal}</td>
                          `;

                          // Tambahkan baris ke dalam tabel
                          tbody.appendChild(row);
                        });

                          // Create a new element to display the data (you can customize this based on your data structure)
                          const itemDiv = document.createElement('div');
                          itemDiv.textContent = `Kelas: ${data.kelas}, Matkul: ${data.matkul}, Nama: ${data.nama}, Nilai: ${data.nilai}, NIM: ${data.nim}, Soal: ${data.soal},`;

                          // Append the new element to the dataContainer
                          // dataContainer.appendChild(itemDiv);
                        // });
                      } catch (error) {
                        console.error('Error fetching data:', error);
                      }
                    }
                    

                    // Call the displayData function to show the data on the website
                    displayData();


                    
                  </script>

                </div>
              </div>
            </div>
          </div>
        </section>
      </script>

      <div class="ps-3">
        <button onclick="jawaban()">
          Answer (Images)
        </button>

        <button onclick="kunci()">
          Answer Key
        </button>

        <button onclick="nilai()">
          Update Score
        </button>
      </div>
</body>

</html>
